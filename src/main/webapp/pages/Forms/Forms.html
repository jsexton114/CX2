<wm-page data-ng-controller="FormsPageController" pagetitle="Forms" name="page1">
    <wm-header content="header" name="header1"></wm-header>
    <wm-top-nav content="topnav" name="top_nav1"></wm-top-nav>
    <wm-content name="content1">
        <wm-left-panel columnwidth="2" content="leftnav" name="left_panel1"></wm-left-panel>
        <wm-page-content columnwidth="10" name="page_content1">
            <wm-layoutgrid name="layoutgrid1">
                <wm-gridrow name="gridrow1">
                    <wm-gridcolumn columnwidth="4" name="gridcolumn1"></wm-gridcolumn>
                    <wm-gridcolumn columnwidth="4" name="gridcolumn2"></wm-gridcolumn>
                    <wm-gridcolumn columnwidth="4" name="gridcolumn5" horizontalalign="right">
                        <wm-label padding="unset 0.5em" name="label1" caption="bind:&quot;FormGUID - &quot;+pageParams.FormGUID"></wm-label>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow2">
                    <wm-gridcolumn columnwidth="12" name="gridcolumn3">
                        <wm-panel iconclass="" autoclose="outsideClick" name="panelFormStatus" title="Form Status" class="panel-primary">
                            <wm-livelist listclass="list-group" itemclass="list-group-item" template="true" itemsperrow="xs-1 sm-1 md-4 lg-4" class="media-list" dataset="bind:Variables.FormStatus.dataSet" navigation="None" name="livelistStatus" pagesize="4"
                            selectfirstitem="false" orderby="sortOrder:asc" loadingdatamsg="" nodatamessage="No Status found" disableitem="false" enablereorder="false" show="true">
                                <wm-listtemplate layout="inline" name="listtemplate1">
                                    <wm-container class="media-body" padding="unset unset unset 1.25em" name="container2">
                                        <wm-label name="Name" class="p media-heading" caption="bind:Variables.FormStatus.dataSet.data[$i].status" fontsize="1.143" fontunit="em"></wm-label>
                                    </wm-container>
                                </wm-listtemplate>
                            </wm-livelist>
                        </wm-panel>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow3">
                    <wm-gridcolumn columnwidth="12" name="gridcolumn5_1">
                        <wm-panel iconclass="" autoclose="outsideClick" name="panelFormReview" title="Form Review" class="panel-primary">
                            <wm-layoutgrid name="layoutgrid3">
                                <wm-gridrow name="gridrow9" padding=".5em unset">
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn16"></wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn17">
                                        <wm-composite name="composite1">
                                            <wm-label class="col-md-3 control-label" name="label4" caption="Status"></wm-label>
                                            <wm-container class="col-md-9" name="container2_1">
                                                <wm-select name="selectStatus" dataset="bind:Variables.FormStatus.dataSet" datafield="All Fields" displayfield="status" datavalue="bind:Widgets.livelistStatus.selecteditem"></wm-select>
                                            </wm-container>
                                        </wm-composite>
                                    </wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn20"></wm-gridcolumn>
                                </wm-gridrow>
                                <wm-gridrow name="gridrow10" padding="unset unset .5em unset">
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn18"></wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn19">
                                        <wm-composite name="composite2">
                                            <wm-label class="col-md-3 control-label" name="label5" caption="Notes"></wm-label>
                                            <wm-container class="col-md-9" name="container3">
                                                <wm-textarea name="textareaNotes" placeholder="Please enter your comments"></wm-textarea>
                                            </wm-container>
                                        </wm-composite>
                                    </wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn21"></wm-gridcolumn>
                                </wm-gridrow>
                                <wm-gridrow name="gridrow11">
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn21_1"></wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn22" horizontalalign="center">
                                        <wm-button class="btn-default btn-primary" caption="Update Status" type="button" margin="unset 0.5em" name="buttonUpdateStatus" on-click="Variables.RecordFormHistory.invoke()"></wm-button>
                                    </wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn23"></wm-gridcolumn>
                                </wm-gridrow>
                            </wm-layoutgrid>
                        </wm-panel>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow4">
                    <wm-gridcolumn columnwidth="12" name="gridcolumn6">
                        <wm-panel iconclass="" autoclose="outsideClick" name="panelForm" title="Form" class="panel-primary">
                            <wm-layoutgrid name="layoutgrid2">
                                <wm-gridrow name="gridrow6">
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn8"></wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn9" horizontalalign="center">
                                        <wm-picture name="picture2" picturesource="bind:&quot;services/cx2/Municipalities/&quot;+pageParams.MunicipalityId+&quot;/content/logo&quot;" width="100pt" height="100pt"></wm-picture>
                                    </wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="4" name="gridcolumn14"></wm-gridcolumn>
                                </wm-gridrow>
                                <wm-gridrow name="gridrow7">
                                    <wm-gridcolumn columnwidth="2" name="gridcolumn10"></wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="8" name="gridcolumn11" horizontalalign="center">
                                        <wm-label padding="unset 0.5em" name="label7" class="h1" caption="bind:pageParams.FormName"></wm-label>
                                    </wm-gridcolumn>
                                    <wm-gridcolumn columnwidth="2" name="gridcolumn15"></wm-gridcolumn>
                                </wm-gridrow>
                                <wm-gridrow ng-repeat="(colName, colValue) in Variables.svGetFormData.dataSet" ng-if="colName != 'ID' &amp;&amp; colName != 'FormGUID'" name="fieldGridrow{{$index}}">
                                    <wm-gridcolumn columnwidth="12" name="fieldGridcolumn{{$index}}">
                                        <wm-composite name="fieldComposite{{$index}}">
                                            <wm-label class="col-md-3 control-label" name="fieldLabel{{$index}}" caption="{{colName}}"></wm-label>
                                            <wm-container class="col-md-9" name="container3">
                                                <wm-text name="{{colName}}" placeholder="Please enter {{colName}}" datavalue="bind:'{{colValue}}'"></wm-text>
                                            </wm-container>
                                        </wm-composite>
                                    </wm-gridcolumn>
                                </wm-gridrow>
                            </wm-layoutgrid>
                        </wm-panel>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow5">
                    <wm-gridcolumn columnwidth="12" name="gridcolumn7">
                        <wm-tabs name="tabs1">
                            <wm-tabpane name="tabpaneFees" title="FEES"></wm-tabpane>
                            <wm-tabpane name="tabpaneInspections" title="INSPECTIONS"></wm-tabpane>
                            <wm-tabpane name="tabpaneMessages" title="MESSAGES"></wm-tabpane>
                            <wm-tabpane name="tabpaneLocation" title="LOCATION"></wm-tabpane>
                            <wm-tabpane name="tabpaneAttachments" title="ATTACHMENTS"></wm-tabpane>
                            <wm-tabpane name="tabpaneContacts" title="CONTACTS">
                                <wm-livegrid formlayout="dialog" name="livegrid1">
                                    <wm-grid gridfirstrowselect="true" editmode="dialog" title="Sharedwith List" dataset="bind:Variables.SharedWithData.dataSet" navigation="Classic" name="gridSharedwith">
                                        <wm-grid-column binding="usersBySharedWithUser.email" caption="User Email" type="string" primary-key="false" generator="assigned" readonly="true" show="true" related-entity-name="Users"></wm-grid-column>
                                        <wm-grid-column binding="createdOn" caption="Created On" type="timestamp" generator="assigned" datepattern="MM-dd-yyyy" formatpattern="toDate" show="true" readonly="false"></wm-grid-column>
                                        <wm-grid-action key="addNewRow" display-name="New" show="true" class="btn-primary" iconclass="wi wi-plus" title="New" action="addNewRow()" shortcutkey="" disabled="false"></wm-grid-action>
                                    </wm-grid>
                                    <wm-liveform novalidate="false" errormessage="" title="Sharedwith Info" formlayout="dialog" iconclass="wi wi-edit" dataset="bind:Variables.SharedWithData.dataSet" captionalign="left" captionposition="top" name="liveformSharedwith">
                                        <wm-layoutgrid columns="1" name="layoutgrid4">
                                            <wm-gridrow name="gridrow12">
                                                <wm-gridcolumn columnwidth="12" name="gridcolumn24">
                                                    <wm-form-field name="usersByCreatedBy" displayname="Users By Created By" show="false" primary-key="false" generator="assigned" key="usersByCreatedBy" type="list" is-related="true" widget="select" placeholder="Select value"
                                                    defaultvalue="bind:Variables.CurrentUserDetails.dataSet"></wm-form-field>
                                                </wm-gridcolumn>
                                            </wm-gridrow>
                                            <wm-gridrow name="gridrow13">
                                                <wm-gridcolumn columnwidth="12" name="gridcolumn25">
                                                    <wm-form-field name="usersBySharedWithUser" displayname="Users By Shared With User" show="true" primary-key="false" generator="assigned" key="usersBySharedWithUser" type="list" is-related="true" widget="autocomplete"
                                                    placeholder="Search" displaylabel="email" searchkey="email" orderby="email:desc"></wm-form-field>
                                                </wm-gridcolumn>
                                            </wm-gridrow>
                                        </wm-layoutgrid>
                                        <wm-form-field name="id" displayname="Id" show="false" primary-key="true" generator="identity" key="id" type="integer" readonly="readonly" required="required" step="0" widget="number"></wm-form-field>
                                        <wm-form-field name="createdOn" displayname="Created On" show="false" primary-key="false" generator="assigned" key="createdOn" type="timestamp" widget="timestamp" placeholder="Select date time" outputformat="timestamp"
                                        defaultvalue="bind:today"></wm-form-field>
                                        <wm-form-field name="relatedGuid" displayname="Related Guid" show="false" primary-key="false" generator="assigned" key="relatedGuid" type="string" widget="text" maxchars="255" inputtype="text" placeholder="Enter value"
                                        defaultvalue="bind:pageParams.FormGUID"></wm-form-field>
                                        <wm-form-action key="cancel" display-name="Cancel" show="true" class="form-cancel btn-secondary" iconclass="wi wi-cancel" title="Cancel" action="cancel()" disabled="false" type="button" update-mode="true"></wm-form-action>
                                        <wm-form-action key="save" display-name="Save" show="true" class="form-save btn-success" iconclass="wi wi-save" title="Save" disabled="false" type="submit" update-mode="true"></wm-form-action>
                                    </wm-liveform>
                                </wm-livegrid>
                            </wm-tabpane>
                            <wm-tabpane name="tabpaneHistory" title="HISTORY">
                                <wm-grid title="Formhistory List" dataset="bind:Variables.FormHistoryData.dataSet" navigation="Classic" name="gridFormhistory">
                                    <wm-grid-column binding="createdTime" caption="Created" type="timestamp" generator="assigned" readonly="true" datepattern="MM-dd-yyyy" formatpattern="toDate" show="true"></wm-grid-column>
                                    <wm-grid-column binding="formStatusesByNewStatusId.status" caption="Status" type="string" generator="assigned" readonly="true" show="true" related-entity-name="FormStatuses"></wm-grid-column>
                                    <wm-grid-column binding="users.email" caption="Created By" type="string" generator="assigned" readonly="true" show="true" related-entity-name="Users"></wm-grid-column>
                                    <wm-grid-column binding="comments" caption="Notes" type="string" generator="assigned" readonly="true" show="true"></wm-grid-column>
                                </wm-grid>
                            </wm-tabpane>
                        </wm-tabs>
                    </wm-gridcolumn>
                </wm-gridrow>
            </wm-layoutgrid>
        </wm-page-content>
    </wm-content>
    <wm-footer content="footer" name="footer1"></wm-footer>
</wm-page>
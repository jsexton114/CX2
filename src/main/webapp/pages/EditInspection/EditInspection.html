<wm-page data-ng-controller="EditInspectionPageController" pagetitle="Edit Inspection" name="page1">
    <wm-header content="header" name="header1"></wm-header>
    <wm-top-nav content="topnav" name="top_nav1"></wm-top-nav>
    <wm-content name="content1">
        <wm-left-panel columnwidth="2" content="leftnav" name="left_panel1"></wm-left-panel>
        <wm-page-content columnwidth="10" name="page_content1">
            <wm-layoutgrid name="layoutgrid4">
                <wm-gridrow name="gridrow13">
                    <wm-gridcolumn columnwidth="12" name="gridcolumn23">
                        <wm-breadcrumb dataset="bind:Variables.BreadCrum.dataSet" itemlabel="label" itemicon="icon" itemlink="link" name="breadcrumb1"></wm-breadcrumb>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow25_1">
                    <wm-gridcolumn columnwidth="12" name="gridcolumn57_1" padding="2em unset">
                        <wm-label name="label2_1" caption="bind:'Edit Inspection: ' + Variables.CurrentInspectionObj.dataSet.data[$i].inspectDesignName + ' (' + Variables.CurrentInspectionObj.dataSet.data[$i].municipalities.municipalityName + ')'" fontweight="bold"
                        class="h4"></wm-label>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow26_1">
                    <wm-gridcolumn columlivenwidth="12" name="gridcolumn58_1">
                        <wm-tabs name="tabs1">
                            <wm-tabpane name="tabpaneFORMINFO" title="Settings">
                                <wm-liveform novalidate="false" errormessage="" title="" iconclass="" defaultmode="Edit" dataset="bind:Variables.lvInspectionDesignUpdate.dataSet" captionalign="left" captionposition="top" name="liveformUpdateInspectiondesign"
                                backgroundcolor="#dbdbdb" formdata="bind:Variables.CurrentInspectionObj.firstRecord">
                                    <wm-layoutgrid name="layoutgrid7_1">
                                        <wm-gridrow name="gridrow45" padding="unset unset 1em unset">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn46">
                                                <wm-panel iconclass="wi wi-info-outline" name="panelInspectionInfo" title="Inspection Details" class="panel-primary">
                                                    <wm-gridrow name="gridrow3" padding="unset unset 1em unset">
                                                        <wm-gridcolumn columnwidth="6" name="gridcolumn4" padding="unset 1em unset unset">
                                                            <wm-form-field name="inspectDesignName" displayname="Inspection Design Name" show="true" primary-key="false" generator="assigned" key="inspectDesignName" type="string" readonly="false" required="true"
                                                            widget="text" maxchars="255" inputtype="text" placeholder="Enter value"></wm-form-field>
                                                        </wm-gridcolumn>
                                                        <wm-gridcolumn columnwidth="3" name="gridcolumn17" horizontalalign="left" padding="unset 1em unset unset">
                                                            <wm-form-field name="active" displayname="Active" show="true" primary-key="false" generator="assigned" key="active" type="boolean" readonly="false" required="false" widget="checkbox" defaultvalue="FALSE"
                                                            hint="An &quot;Active&quot; inspection will appear to users as a selection on forms that have inspections enabled. If &quot;Active&quot; is not selected, no inspections of this design can be performed."
                                                            placeholder=""></wm-form-field>
                                                        </wm-gridcolumn>
                                                        <wm-gridcolumn columnwidth="3" name="gridcolumn3" padding="unset 1em unset unset">
                                                            <wm-form-field name="municipalityInternalInspection" displayname="Municipality Internal Inspection" show="true" primary-key="false" generator="assigned" key="municipalityInternalInspection" type="boolean"
                                                            readonly="false" required="false" widget="checkbox" defaultvalue="FALSE" hint="This hides the inspection design from standard CivicXpress users and makes it available only to Municipality Employees."
                                                            placeholder=""></wm-form-field>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                    <wm-gridrow name="gridrow1333" padding="unset unset 1em unset">
                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn1333">
                                                            <wm-form-field name="instructions" displayname="Inspection Instructions" show="true" primary-key="false" generator="assigned" key="instructions" type="text" readonly="false" required="false" widget="richtext"
                                                            maxchars="1000" hint="This is the first thing that an inspector will see when they launch the inspection. If you would like to include additional instruction text throughout the body of the inspection, use the &quot;Instruction Text&quot; field type on the Fields tab."
                                                            placeholder="Enter value"></wm-form-field>
                                                        </wm-gridcolumn>
                                                    </wm-gridrow>
                                                </wm-panel>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow46" padding="unset unset 1em unset">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn48">
                                                <wm-panel iconclass="wi wi-spellcheck" autoclose="outsideClick" name="panel10_1" title="Inspection Naming" class="panel-primary">
                                                    <wm-layoutgrid name="layoutgrid10_1">
                                                        <wm-gridrow name="gridrow37">
                                                            <wm-gridcolumn columnwidth="12" name="gridcolumn62">
                                                                <wm-label padding="unset 0.5em" name="label4" caption="These settings control the appearance of the unique Inspection Title that is generated for each inspection of this design that is performed."></wm-label>
                                                                <wm-label padding="unset 0.5em" name="label5" caption="Inspection Naming options can only be set once during initial inspection design setup. After the first inspection of this design has been performed, these settings are automatically disabled in order to prevent changes causing duplicate Inspection Titles."></wm-label>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow43_2" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn68">
                                                                <wm-form-field name="titlePrefix" displayname="Prefix" show="true" primary-key="false" generator="assigned" key="titlePrefix" type="string" readonly="false" required="true" widget="text" maxchars="12"
                                                                width="160px" inputtype="text" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow44_2" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn70_2">
                                                                <wm-form-field name="prefixDate" displayname="Date Option" show="true" primary-key="false" generator="assigned" key="prefixDate" type="string" readonly="false" required="true" widget="radioset"
                                                                maxchars="255" dataset="bind:Variables.stvPrefixDateOptions.dataSet" datafield="value" displayfield="label" usekeys="false" layout="inline" on-change="prefixDateChange($event, $scope, newVal, oldVal)"
                                                                disabled="bind:Variables.CurrentInspectionObj.dataSet.data[$i].currentPrefixNumber != null" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow45_1" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn72_2">
                                                                <wm-layoutgrid name="layoutgrid11">
                                                                    <wm-gridrow name="gridrow47">
                                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn74_1">
                                                                            <wm-form-field name="prefixStartNumber" displayname="Number Start" show="true" primary-key="false" generator="assigned" key="prefixStartNumber" type="integer" maxvalue="100000000000"
                                                                            readonly="false" required="true" step="0" widget="number" placeholder="Enter number" width="160px" minvalue="0" inputtype="number"></wm-form-field>
                                                                        </wm-gridcolumn>
                                                                    </wm-gridrow>
                                                                    <wm-gridrow name="gridrow48">
                                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn76_1">
                                                                            <wm-form-field name="prefixNumberStep" displayname="Increment By" show="true" primary-key="false" generator="assigned" key="prefixNumberStep" type="integer" maxvalue="10000000" readonly="false"
                                                                            required="true" step="0" widget="number" placeholder="Enter number" minvalue="1" width="160px" inputtype="number"></wm-form-field>
                                                                        </wm-gridcolumn>
                                                                    </wm-gridrow>
                                                                </wm-layoutgrid>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow51" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn76_3">
                                                                <wm-form-field name="prefixDashes" displayname="Separate By Dashes" show="true" primary-key="false" generator="assigned" key="prefixDashes" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="FALSE" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow38_2">
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn64">
                                                                <wm-layoutgrid name="layoutgrid11_1">
                                                                    <wm-gridrow name="gridrow39_2">
                                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn66">
                                                                            <wm-label padding="unset 0.5em" name="label6" caption="Inspection Title Preview" margin="unset unset unset 0.5em"></wm-label>
                                                                        </wm-gridcolumn>
                                                                    </wm-gridrow>
                                                                    <wm-gridrow name="gridrow40">
                                                                        <wm-gridcolumn columnwidth="12" name="gridcolumn68_1">
                                                                            <wm-label padding="unset 0.5em" name="label7" fontstyle="italic" margin="unset unset unset 0.5em" caption="preview not available"></wm-label>
                                                                        </wm-gridcolumn>
                                                                    </wm-gridrow>
                                                                </wm-layoutgrid>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                    </wm-layoutgrid>
                                                </wm-panel>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                        <wm-gridrow name="gridrow47" padding="unset unset 1em unset">
                                            <wm-gridcolumn columnwidth="12" name="gridcolumn50">
                                                <wm-panel iconclass="wi wi-control-point" autoclose="outsideClick" name="panel9_1" title="Inspection Options" class="panel-primary">
                                                    <wm-layoutgrid name="layoutgrid9_1">
                                                        <wm-gridrow name="gridrow37_1" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn54" padding="unset 1em unset unset">
                                                                <wm-form-field name="allowSameDayInspections" displayname="Allow Same Day Inspections" show="true" primary-key="false" generator="assigned" key="allowSameDayInspections" type="boolean" readonly="false"
                                                                required="false" widget="checkbox" defaultvalue="FALSE" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn55" padding="unset 1em unset unset">
                                                                <wm-form-field name="allowCancel" displayname="Allow Cancellations" show="true" primary-key="false" generator="assigned" key="allowCancel" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="FALSE" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn58" padding="unset 1em unset unset">
                                                                <wm-form-field name="allowSameDayCancel" displayname="Allow Same Day Cancellations" show="true" primary-key="false" generator="assigned" key="allowSameDayCancel" type="boolean" readonly="false"
                                                                required="false" widget="checkbox" defaultvalue="FALSE" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow38_1" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn56" padding="unset 1em unset unset">
                                                                <wm-form-field name="totalInspectionsDaily" displayname="Total Inspections Daily" show="true" primary-key="false" generator="assigned" key="totalInspectionsDaily" type="integer" readonly="false"
                                                                required="false" step="0" widget="number" inputtype="number" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn57" padding="unset 1em unset unset">
                                                                <wm-form-field name="totalInspectionsHourly" displayname="Total Inspections Hourly" show="true" primary-key="false" generator="assigned" key="totalInspectionsHourly" type="integer" readonly="false"
                                                                required="false" step="0" widget="number" inputtype="number" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn87_1">
                                                                <wm-form-field name="allowAdHoc" displayname="Allow Ad Hoc" show="true" primary-key="false" generator="assigned" key="allowAdHoc" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="FALSE" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow39" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn60_1" padding="unset 1em unset unset">
                                                                <wm-form-field name="maxDaysInAdvance" displayname="Max Days In Advance" show="true" primary-key="false" generator="assigned" key="maxDaysInAdvance" type="integer" readonly="false" required="false"
                                                                step="0" widget="number" inputtype="number" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn61_1" padding="unset 1em unset unset">
                                                                <wm-form-field name="callInOnly" displayname="Call In Only" show="true" primary-key="false" generator="assigned" key="callInOnly" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="FALSE" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn76_4" padding="unset 1em unset unset">
                                                                <wm-form-field name="callInMessage" displayname="Call In Message" show="true" primary-key="false" generator="assigned" key="callInMessage" type="string" readonly="false" required="false" widget="textarea"
                                                                maxchars="1000" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow39_1" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn63_2" padding="unset 1em unset unset">
                                                                <wm-form-field name="scheduleDateOnly" displayname="Schedule Date Only" show="true" primary-key="false" generator="assigned" key="scheduleDateOnly" type="date" readonly="false" required="false"
                                                                widget="date" placeholder="Select date" outputformat="yyyy-MM-dd"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn77" padding="unset 1em unset unset">
                                                                <wm-form-field name="scheduleDateAndTime" displayname="Schedule Date And Time" show="true" primary-key="false" generator="assigned" key="scheduleDateAndTime" type="timestamp" readonly="false"
                                                                required="false" widget="timestamp" placeholder="Select date time" outputformat="timestamp"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn56_1">
                                                                <wm-form-field name="allowCases" displayname="Allow Cases" show="true" primary-key="false" generator="assigned" key="allowCases" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="false"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow57" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn72" padding="unset 1em unset unset">
                                                                <wm-form-field name="requireFeesPaidBeforeScheduling" displayname="Require Fees Paid Before Scheduling" show="true" primary-key="false" generator="assigned" key="requireFeesPaidBeforeScheduling"
                                                                type="boolean" readonly="false" required="false" widget="checkbox" defaultvalue="false" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn73">
                                                                <wm-form-field name="allowUnscheduledInspection" displayname="Allow Unscheduled Inspection" show="true" primary-key="false" generator="assigned" key="allowUnscheduledInspection" type="boolean"
                                                                readonly="false" required="false" widget="checkbox" defaultvalue="false" placeholder=""></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn57_2">
                                                                <wm-form-field name="codeEnforcement" displayname="Code Enforcement" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowCases.datavalue" primary-key="false" generator="assigned"
                                                                key="codeEnforcement" type="boolean" readonly="false" required="false" widget="checkbox" defaultvalue="false"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow59" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn78">
                                                                <wm-form-field name="sameDayInspectionFee" displayname="Same Day Inspection Fee" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowSameDayInspections.datavalue" primary-key="false"
                                                                generator="assigned" key="sameDayInspectionFee" type="integer" maxvalue="1000000000000" readonly="false" required="false" step="0.01" widget="currency" minvalue="0" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="8" name="gridcolumn69_1">
                                                                <wm-form-field name="sameDayCancelFee" displayname="Same Day Cancellation Fee" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowSameDayCancel.datavalue" primary-key="false"
                                                                generator="assigned" key="sameDayCancelFee" type="integer" maxvalue="999999999999" readonly="false" required="false" step="0.01" widget="currency" minvalue="0" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow60" padding="unset unset 1em unset">
                                                            <wm-gridcolumn columnwidth="4" name="gridcolumn81">
                                                                <wm-form-field name="sameDayInspectionFeeAcctCode" displayname="Same Day Inspection Fee Accounting Code" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowSameDayInspections.datavalue"
                                                                primary-key="false" generator="assigned" key="sameDayInspectionFeeAcctCode" type="string" readonly="false" required="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.sameDayInspectionFee.datavalue > 0"
                                                                widget="text" maxchars="255" inputtype="text" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="8" name="gridcolumn82">
                                                                <wm-form-field name="sameDayCancelAcctCode" displayname="Same Day Cancellation Accounting Code" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowSameDayCancel.datavalue" primary-key="false"
                                                                generator="assigned" key="sameDayCancelAcctCode" type="string" readonly="false" required="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.sameDayCancelFee.datavalue > 0" widget="text"
                                                                maxchars="255" inputtype="text" placeholder="Enter value"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                    </wm-layoutgrid>
                                                </wm-panel>
                                            </wm-gridcolumn>
                                        </wm-gridrow>
                                    </wm-layoutgrid>
                                    <wm-form-field name="id" displayname="Id" show="false" primary-key="true" generator="identity" key="id" type="integer" readonly="true" required="true" step="0" widget="number" inputtype="number" placeholder="Enter value"></wm-form-field>
                                    <wm-form-field name="municipalities" displayname="Municipalities" show="false" primary-key="false" generator="assigned" key="municipalities" type="list" is-related="true" readonly="false" required="false"
                                    widget="select" placeholder="Select value"></wm-form-field>
                                    <wm-form-field name="users" displayname="Users" show="false" primary-key="false" generator="assigned" key="users" type="list" is-related="true" readonly="false" required="false" widget="select" placeholder="Select value"></wm-form-field>
                                    <wm-form-field name="createdAt" displayname="Created At" show="false" primary-key="false" generator="assigned" key="createdAt" type="timestamp" readonly="false" required="false" widget="timestamp" placeholder="Select date time"
                                    outputformat="timestamp"></wm-form-field>
                                    <wm-form-field name="prefixNumber" displayname="Prefix Number" show="false" primary-key="false" generator="assigned" key="prefixNumber" type="string" readonly="false" required="false" widget="text" maxchars="255"
                                    inputtype="text" placeholder="Enter value"></wm-form-field>
                                    <wm-form-field name="cancelFee" displayname="Cancellation Fee" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowCancel.datavalue" primary-key="false" generator="assigned" key="cancelFee"
                                    type="integer" maxvalue="1000000000000" readonly="false" required="false" step="0.01" widget="currency" minvalue="0" placeholder="Enter value"></wm-form-field>
                                    <wm-form-field name="cancelFeeAccount" displayname="Cancellation Fee Accounting Code" show="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.allowCancel.datavalue" primary-key="false" generator="assigned"
                                    key="cancelFeeAccount" type="string" readonly="false" required="bind:Widgets.liveformUpdateInspectiondesign.formWidgets.cancelFee.datavalue > 0" widget="text" maxchars="255" inputtype="text" placeholder="Enter value"></wm-form-field>
                                    <wm-layoutgrid columns="1" name="layoutgrid6_2"></wm-layoutgrid>
                                    <wm-form-action key="save" display-name="Save" show="true" class="form-save btn-primary" iconclass="wi wi-save" title="Save" disabled="false" type="submit" update-mode="true"></wm-form-action>
                                    <wm-form-action key="reset" display-name="Reset" show="true" class="form-reset btn-secondary" iconclass="wi wi-refresh" title="Reset" action="reset()" disabled="false" type="button" update-mode="true"></wm-form-action>
                                </wm-liveform>
                            </wm-tabpane>
                            <wm-tabpane name="tabpaneCATEGORIES" title="Categories">
                                <wm-layoutgrid name="layoutgrid6">
                                    <wm-gridrow name="gridrow55">
                                        <wm-gridcolumn columnwidth="12" name="gridcolumn80">
                                            <wm-label padding="unset 0.5em" name="label15" caption="You can assign this Inspection Design to one or many Inspection Categories. This will affect where the Inspection appears to CivicXpress users, makes the Inspection searchable by Category, and is used to generate Municipality Analytics."></wm-label>
                                        </wm-gridcolumn>
                                    </wm-gridrow>
                                    <wm-gridrow name="gridrow26">
                                        <wm-gridcolumn columnwidth="12" name="gridcolumn53">
                                            <wm-livegrid formlayout="dialog" name="livegridInspectioncategorymappin">
                                                <wm-grid gridfirstrowselect="true" editmode="dialog" title="" dataset="bind:Variables.InspectionCategoryMappingData.dataSet" navigation="Classic" name="gridInspectioncategorymapping" filtermode="multicolumn"
                                                exportformat="EXCEL" showrecordcount="true">
                                                    <wm-grid-column binding="inspectionCategories.inspectionCategory" caption="Category" type="string" generator="assigned" readonly="true" edit-widget-type="text" show="true" related-entity-name="InspectionCategories"></wm-grid-column>
                                                    <wm-grid-column binding="inspectionCategories.inspectionCategoryDescription" caption="Description" type="string" generator="assigned" readonly="true" edit-widget-type="text" show="true"
                                                    related-entity-name="InspectionCategories"></wm-grid-column>
                                                    <wm-grid-column binding="rowOperations" caption="Actions" type="custom" width="120px" readonly="true" edit-widget-type="text" sortable="false" searchable="false" show="true"></wm-grid-column>
                                                    <wm-grid-action key="addNewRow" display-name="Add Category" show="true" class="btn-primary" iconclass="wi wi-plus" title="Add Category" action="addNewRow()" shortcutkey="" disabled="false"></wm-grid-action>
                                                    <wm-grid-row-action key="deleterow" display-name="" show="true" class="btn-transparent" iconclass="wi wi-trash" title="Delete" action="deleteRow()" disabled="false"></wm-grid-row-action>
                                                </wm-grid>
                                                <wm-liveform novalidate="false" errormessage="The selected category has already been assigned to this inspection." title="Add Inspection Category" formlayout="dialog" iconclass="wi wi-group-work" dataset="bind:Variables.InspectionCategoryMappingData.dataSet"
                                                captionalign="left" captionposition="top" name="liveformInspectioncategorymappin">
                                                    <wm-layoutgrid columns="1" name="layoutgrid7">
                                                        <wm-gridrow name="gridrow28">
                                                            <wm-gridcolumn columnwidth="12" name="gridcolumn38">
                                                                <wm-form-field name="inspectionCategories" displayname="What category would you like to assign to this inspection?" show="true" primary-key="false" generator="assigned" key="inspectionCategories"
                                                                type="list" is-related="true" readonly="false" required="true" widget="select" placeholder="Select Category" dataset="bind:Variables.CurrentMunicipalityInspectionCategories.dataSet" displaylabel="inspectionCategory"
                                                                datafield="All Fields" displayfield="inspectionCategory" orderby="inspectionCategory:asc"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow30_1">
                                                            <wm-gridcolumn columnwidth="12" name="gridcolumn62_2">
                                                                <wm-label name="label62_2" caption="If this inspection belongs in a category that isn't available above, you can create a new category on the Manage Inspections page." margin="1em unset unset unset"></wm-label>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                    </wm-layoutgrid>
                                                    <wm-form-field name="inspectionDesign" displayname="Inspection Design" show="false" primary-key="false" generator="assigned" key="inspectionDesign" type="list" is-related="true" readonly="false" required="false"
                                                    widget="select" placeholder="Select value" dataset="bind:Variables.CurrentInspectionObj.dataSet" datafield="All Fields" displayfield="inspectDesignName" defaultvalue="bind:Variables.CurrentInspectionObj.firstRecord"></wm-form-field>
                                                    <wm-form-field name="id" displayname="Id" show="false" primary-key="true" generator="identity" key="id" type="integer" readonly="true" required="true" step="0" widget="number" inputtype="number"
                                                    placeholder="Enter value"></wm-form-field>
                                                    <wm-form-action key="save" display-name="Add Category" show="true" class="form-save btn-primary" iconclass="wi wi-plus" title="Add Category" disabled="false" type="submit" update-mode="true"></wm-form-action>
                                                    <wm-form-action key="cancel" display-name="Cancel" show="true" class="form-cancel btn-secondary" iconclass="wi wi-cancel" title="Cancel" action="cancel()" disabled="false" type="button"
                                                    update-mode="true"></wm-form-action>
                                                </wm-liveform>
                                            </wm-livegrid>
                                        </wm-gridcolumn>
                                    </wm-gridrow>
                                </wm-layoutgrid>
                            </wm-tabpane>
                            <wm-tabpane name="tabpaneFields" title="Fields"></wm-tabpane>
                            <wm-tabpane name="tabpaneOutcomes" title="Outcomes">
                                <wm-layoutgrid name="layoutgrid12">
                                    <wm-gridrow name="gridrow41">
                                        <wm-gridcolumn columnwidth="12" name="gridcolumn67">
                                            <wm-label padding="unset 0.5em" name="label8" caption="Inspection Outcomes are the results of an inspection. These are the options that an inspector in the field can select after this inspection has been performed."></wm-label>
                                        </wm-gridcolumn>
                                    </wm-gridrow>
                                    <wm-gridrow name="gridrow42_1">
                                        <wm-gridcolumn columnwidth="12" name="gridcolumn69">
                                            <wm-livegrid formlayout="dialog" name="livegridOutcome">
                                                <wm-grid gridfirstrowselect="true" editmode="dialog" title="" dataset="bind:Variables.InspectionOutcomeData.dataSet" navigation="Classic" name="gridOutcome" filtermode="multicolumn" showrecordcount="true" exportformat="EXCEL">
                                                    <wm-grid-column binding="outcomeOrder" caption="Outcome Order" type="integer" primary-key="false" generator="assigned" edit-widget-type="number" show="true" readonly="false"></wm-grid-column>
                                                    <wm-grid-column binding="outcome" caption="Outcome" type="string" generator="assigned" edit-widget-type="text" show="true" readonly="false"></wm-grid-column>
                                                    <wm-grid-column binding="assessFeeYn" caption="Assess Fee" type="boolean" widget-type="checkbox" generator="assigned" edit-widget-type="checkbox" show="true" readonly="false">
                                                        <wm-checkbox scopedatavalue="row['assessFeeYn']" disabled="Enable" class="" data-ng-class="" on-change="assessFeeChange(row['assessFeeYn'])"></wm-checkbox>
                                                    </wm-grid-column>
                                                    <wm-grid-column binding="considerClosed" caption="Consider Closed" type="boolean" widget-type="checkbox" primary-key="false" generator="assigned" edit-widget-type="checkbox" show="true" readonly="false">
                                                        <wm-checkbox scopedatavalue="row['considerClosed']" disabled="Enable" class="" data-ng-class="" on-change="considerClosedChange(row['considerClosed'])"></wm-checkbox>
                                                    </wm-grid-column>
                                                    <wm-grid-column binding="rowOperations" caption="Actions" type="custom" width="120px" readonly="true" edit-widget-type="text" sortable="false" searchable="false" show="true"></wm-grid-column>
                                                    <wm-grid-action key="addNewRow" display-name="New Outcome" show="true" class="btn-primary" iconclass="wi wi-plus" title="New Outcome" action="addNewRow()" shortcutkey="" disabled="false"></wm-grid-action>
                                                    <wm-grid-row-action key="customRow" display-name="" show="true" class="btn-transparent" iconclass="wi wi-attach-money" title="Fees" action="Widgets.dialogOutcomeFee.open()" disabled="false"></wm-grid-row-action>
                                                    <wm-grid-row-action key="updaterow" display-name="" show="true" class="btn-transparent" iconclass="wi wi-pencil" title="Edit" action="editRow()" disabled="false"></wm-grid-row-action>
                                                    <wm-grid-row-action key="deleterow" display-name="" show="bind:!((row.getProperty('outcome')=='Requested')||(row.getProperty('outcome')=='Scheduled')||(row.getProperty('outcome')=='Rescheduled')||(row.getProperty('outcome')=='Cancelled'))"
                                                    class="btn-transparent" iconclass="wi wi-trash" title="Delete" action="deleteRow()" disabled="false"></wm-grid-row-action>
                                                </wm-grid>
                                                <wm-liveform novalidate="false" errormessage="The Outcome Order must be unique. Please select a different number." title="Outcome Details" formlayout="dialog" iconclass="wi wi-thumbs-up-down" dataset="bind:Variables.InspectionOutcomeData.dataSet"
                                                captionalign="left" captionposition="top" name="liveformOutcome">
                                                    <wm-layoutgrid columns="1" name="layoutgrid4_1">
                                                        <wm-gridrow name="gridrow8">
                                                            <wm-gridcolumn columnwidth="12" name="gridcolumn8" padding="unset unset 2em unset">
                                                                <wm-form-field name="outcome" displayname="Outcome Name" show="true" primary-key="false" generator="assigned" key="outcome" type="string" readonly="false" required="true" widget="text" maxchars="255"
                                                                inputtype="text" placeholder="Enter text" hint="What would you like this outcome to be named?"></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow1">
                                                            <wm-gridcolumn name="gridcolumn1" columnwidth="12" padding="unset unset 3em unset">
                                                                <wm-form-field name="outcomeOrder" displayname="Outcome Order" show="true" primary-key="false" generator="assigned" key="outcomeOrder" type="integer" readonly="false" required="true" step="0"
                                                                widget="select" placeholder="Select value" dataset="bind:Variables.SortOrder.dataSet" datafield="dataValue" displayfield="dataValue" hint="This determines the sort order of the inspection outcomes."></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                        <wm-gridrow name="gridrow9">
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn9">
                                                                <wm-form-field name="assessFeeYn" displayname="Assess Fee" show="true" primary-key="false" generator="assigned" key="assessFeeYn" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="true" placeholder="" checkedvalue="true" uncheckedvalue="false" hint="If selected, this outcome will result in one or many fees being assessed. Click the &quot;Fees&quot; action icon on the Outcomes tab to add fees to this inspection outcome."></wm-form-field>
                                                            </wm-gridcolumn>
                                                            <wm-gridcolumn columnwidth="6" name="gridcolumn10">
                                                                <wm-form-field name="considerClosed" displayname="Consider Closed" show="true" primary-key="false" generator="assigned" key="considerClosed" type="boolean" readonly="false" required="false" widget="checkbox"
                                                                defaultvalue="false" placeholder="" uncheckedvalue="false" checkedvalue="true" hint="If selected, this outcome will result in the inspections process being considered &quot;Closed&quot;, and should be reserved for the final outcome."></wm-form-field>
                                                            </wm-gridcolumn>
                                                        </wm-gridrow>
                                                    </wm-layoutgrid>
                                                    <wm-form-field name="id" displayname="Id" show="false" primary-key="true" generator="identity" key="id" type="integer" readonly="true" required="true" step="0" widget="number" inputtype="number" placeholder="Enter value"></wm-form-field>
                                                    <wm-form-field name="inspectionDesign" displayname="Inspection Design" show="false" primary-key="false" generator="assigned" key="inspectionDesign" type="list" is-related="true" readonly="false"
                                                    required="false" widget="select" dataset="bind:Variables.CurrentInspectionObj.dataSet" datafield="All Fields" displayfield="inspectDesignName" defaultvalue="bind:Variables.CurrentInspectionObj.firstRecord"
                                                    placeholder="Select value"></wm-form-field>
                                                    <wm-form-action key="save" display-name="Save" show="true" class="form-save btn-primary" iconclass="wi wi-save" title="Save" disabled="false" type="submit" update-mode="true"></wm-form-action>
                                                    <wm-form-action key="cancel" display-name="Cancel" show="true" class="form-cancel btn-secondary" iconclass="wi wi-cancel" title="Cancel" action="cancel()" disabled="false" type="button"
                                                    update-mode="true"></wm-form-action>
                                                </wm-liveform>
                                            </wm-livegrid>
                                        </wm-gridcolumn>
                                    </wm-gridrow>
                                </wm-layoutgrid>
                            </wm-tabpane>
                            <wm-tabpane name="tabpaneCXADMIN" title="CX Admin" accessroles="CXAdmin"></wm-tabpane>
                        </wm-tabs>
                    </wm-gridcolumn>
                </wm-gridrow>
            </wm-layoutgrid>
        </wm-page-content>
    </wm-content>
    <wm-footer content="footer" name="footer1"></wm-footer>
    <wm-view class="dialog-view" name="viewtrue">
        <wm-dialog dialogtype="design-dialog" modal="true" title="Outcome Fees" iconclass="wi wi-attach-money" name="dialogOutcomeFee">
            <wm-label name="labelOutcomeFees" caption="These are the fees that are associated with the selected inspection outcome. You can set a single flat fee, or multiple fees that escalate each time this inspection outcome occurs."></wm-label>
            <wm-livegrid formlayout="dialog" name="livegridOutcomeFee">
                <wm-grid gridfirstrowselect="true" editmode="dialog" title="" dataset="bind:Variables.InspectionOutcomeFeeData.dataSet" navigation="Classic" name="gridOutcomeFee" filtermode="multicolumn" exportformat="EXCEL" showrecordcount="true">
                    <wm-grid-column binding="orderToApply" caption="Order To Apply" type="integer" generator="assigned" edit-widget-type="number" show="true" readonly="false"></wm-grid-column>
                    <wm-grid-column binding="accountCode" caption="Accounting Code" type="string" generator="assigned" edit-widget-type="text" show="true" readonly="false"></wm-grid-column>
                    <wm-grid-column binding="amount" caption="Fee Amount" type="integer" generator="assigned" formatpattern="toCurrency" currencypattern="USD" fractionsize="2" edit-widget-type="number" show="true" readonly="false"></wm-grid-column>
                    <wm-grid-column binding="rowOperations" caption="Actions" type="custom" width="120px" readonly="true" edit-widget-type="text" sortable="false" searchable="false" show="true"></wm-grid-column>
                    <wm-grid-action key="addNewRow" display-name="New Fee" show="true" class="btn-primary" iconclass="wi wi-plus" title="New Fee" action="addNewRow()" shortcutkey="" disabled="false"></wm-grid-action>
                    <wm-grid-row-action key="updaterow" display-name="" show="true" class="btn-transparent" iconclass="wi wi-pencil" title="Edit" action="editRow()" disabled="false"></wm-grid-row-action>
                    <wm-grid-row-action key="deleterow" display-name="" show="true" class="btn-transparent" iconclass="wi wi-trash" title="Delete" action="deleteRow()" disabled="false"></wm-grid-row-action>
                </wm-grid>
                <wm-liveform novalidate="false" errormessage="The Order To Apply must be unique. Please select a different number." title="Fee Details" formlayout="dialog" iconclass="wi wi-attach-money" dataset="bind:Variables.InspectionOutcomeFeeData.dataSet"
                captionalign="left" captionposition="top" name="liveformOutcomeFee">
                    <wm-layoutgrid columns="1" name="layoutgrid6_1">
                        <wm-gridrow name="gridrow16">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn18" padding="unset unset 1em unset">
                                <wm-form-field name="orderToApply" displayname="Order To Apply" show="true" primary-key="false" generator="assigned" key="orderToApply" type="integer" maxvalue="100" readonly="false" required="true" step="0" widget="select"
                                minvalue="1" placeholder="Select value" dataset="bind:Variables.SortOrder.dataSet" datafield="dataValue" displayfield="dataValue" hint="This determines the order in which this fee is applied."></wm-form-field>
                            </wm-gridcolumn>
                        </wm-gridrow>
                        <wm-gridrow name="gridrow15">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn17" padding="unset unset 1em unset">
                                <wm-form-field name="accountCode" displayname="Accounting Code" show="true" primary-key="false" generator="assigned" key="accountCode" type="string" readonly="false" required="true" widget="text" maxchars="255" inputtype="text"
                                placeholder="Enter text"></wm-form-field>
                            </wm-gridcolumn>
                        </wm-gridrow>
                        <wm-gridrow name="gridrow14">
                            <wm-gridcolumn columnwidth="12" name="gridcolumn16" padding="unset unset 1em unset">
                                <wm-form-field name="amount" displayname="Fee Amount (USD)" show="true" primary-key="false" generator="assigned" key="amount" type="float" readonly="false" required="true" step="0.01" widget="currency" placeholder="" minvalue="0.01"
                                inputtype="number"></wm-form-field>
                            </wm-gridcolumn>
                        </wm-gridrow>
                    </wm-layoutgrid>
                    <wm-form-field name="inspectionOutcome" displayname="Inspection Outcome" show="false" primary-key="false" generator="assigned" key="inspectionOutcome" type="list" is-related="true" readonly="false" required="false" widget="select"
                    dataset="bind:Variables.InspectionOutcomeData.dataSet" datafield="All Fields" displayfield="outcome" defaultvalue="bind:Widgets.gridOutcome.selecteditem" placeholder="Select value"></wm-form-field>
                    <wm-form-field name="id" displayname="Id" show="false" primary-key="true" generator="identity" key="id" type="integer" readonly="true" required="true" step="0" widget="number" inputtype="number" placeholder="Enter value"></wm-form-field>
                    <wm-form-action key="save" display-name="Save" show="true" class="form-save btn-primary" iconclass="wi wi-save" title="Save" disabled="false" type="submit" update-mode="true"></wm-form-action>
                    <wm-form-action key="cancel" display-name="Cancel" show="true" class="form-cancel btn-secondary" iconclass="wi wi-cancel" title="Cancel" action="cancel()" disabled="false" type="button" update-mode="true"></wm-form-action>
                </wm-liveform>
            </wm-livegrid>
            <wm-dialogactions name="dialogactions1">
                <wm-button class="btn-secondary" caption="Close" on-click="closeDialog()" name="button1" iconclass="wi wi-cancel"></wm-button>
            </wm-dialogactions>
        </wm-dialog>
    </wm-view>
</wm-page>
{
  "name" : "cx2",
  "description" : "Queries for cx2",
  "queries" : [ {
    "name" : "AddUsersToVendor",
    "query" : "insert into  VendorUsers(VendorId,UserId,JoiningDate) values(:VendorId,:UserId,:JoiningDate)",
    "comment" : "AddUsersToVendor",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "VendorId",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "UserId",
      "paramType" : "java.lang.Integer",
      "testValue" : "42",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "JoiningDate",
      "paramType" : "java.sql.Date",
      "testValue" : "2016-12-06",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2AddUsersToVendorrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "AdminsMunicipalities",
    "query" : "select M.* from Municipalities M,Roles R,Users U where U.ID=:user and U.ID=R.UserId and R.MunicipalityId=M.ID",
    "comment" : "Admin'sMunicipalities",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2AdminsMunicipalitiesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AllowManualPayment" : "java.lang.Boolean",
      "City" : "java.lang.String",
      "CloseTime" : "java.sql.Time",
      "Email" : "java.lang.String",
      "FridayYN" : "java.lang.Boolean",
      "GlobalEmailSig" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "Logo" : "[B",
      "ManualPaymentPercent" : "java.math.BigDecimal",
      "MondayYN" : "java.lang.Boolean",
      "MunicipalityGuid" : "java.lang.String",
      "MunicipalityName" : "java.lang.String",
      "OpenTime" : "java.sql.Time",
      "Phone" : "java.lang.String",
      "PostalCode" : "java.lang.String",
      "SaturdayYN" : "java.lang.Boolean",
      "StateId" : "java.math.BigDecimal",
      "SundayYN" : "java.lang.Boolean",
      "ThursdayYN" : "java.lang.Boolean",
      "TimeZone" : "java.lang.String",
      "TuesdayYN" : "java.lang.Boolean",
      "WednesdayYN" : "java.lang.Boolean"
    }
  }, {
    "name" : "AdminVendorsList",
    "query" : "select V.* from Vendor V,VendorAdmins VM,Users U where U.ID=:user and VM.UserId=U.ID and VM.VendorId=V.ID",
    "comment" : "AdminVendorsList",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "107",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2AdminVendorsListrtnType",
    "returnTypeMetadata" : {
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AltPhone" : "java.lang.String",
      "BusinessClassification" : "java.lang.String",
      "COI" : "[B",
      "City" : "java.lang.String",
      "CompanyEmail" : "java.lang.String",
      "CompanyName" : "java.lang.String",
      "CompanyPhone" : "java.lang.String",
      "CompanyWebsite" : "java.lang.String",
      "ContractorTypeId" : "java.math.BigDecimal",
      "Country" : "java.lang.String",
      "FaxNumber" : "java.lang.String",
      "FeinNumber" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "InsuranceCompany" : "java.lang.String",
      "InsuranceExpires" : "java.sql.Date",
      "LastUpdated" : "java.sql.Date",
      "NumberOfEmployees" : "java.math.BigDecimal",
      "PostalCode" : "java.lang.String",
      "StateId" : "java.math.BigDecimal",
      "StateRegNumber" : "java.lang.String",
      "TypeOfBusiness" : "java.lang.String"
    }
  }, {
    "name" : "CheckingUserWithMunicipalityInRoles",
    "query" : "select count(*) as exist from Roles where MunicipalityId=:muncipality and UserId=:user",
    "comment" : "CheckingUserWithMunicipalityInRoles",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "muncipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "58",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2CheckingUserWithMunicipalityInRolesrtnType",
    "returnTypeMetadata" : {
      "exist" : "java.lang.Integer"
    }
  }, {
    "name" : "CountOfVendors",
    "query" : "select count(*) as CountOfVendors from VendorAdmins where UserId=:vendor",
    "comment" : "CountOfVendors",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "vendor",
      "paramType" : "java.lang.Integer",
      "testValue" : "107",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2CountOfVendorsrtnType",
    "returnTypeMetadata" : {
      "CountOfVendors" : "java.lang.Integer"
    }
  }, {
    "name" : "DeleteCategoryMapping",
    "query" : "delete from FormCategoryMapping where FormTypeId=:form",
    "comment" : "DeleteCategoryMapping",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "form",
      "paramType" : "java.lang.Integer",
      "testValue" : "6",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2DeleteCategoryMappingrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "DeleteExistingSubscriptionsForUser",
    "query" : "delete from UserSubscriptions where UserId=:user",
    "comment" : "DeleteExistingSubscriptionsForUser",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "42",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2DeleteExistingSubscriptionsForUserrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "DeleteFromVendorUsers",
    "query" : "delete from VendorUsers where ID=:vendor",
    "comment" : "DeleteFromVendorUsers",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "vendor",
      "paramType" : "java.lang.Integer",
      "testValue" : "3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2DeleteFromVendorUsersrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "deleteToken",
    "query" : "delete from UserPasswordResetTokens where Token =:token",
    "comment" : "to deleted token after changing password",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "token",
      "paramType" : "java.lang.String",
      "testValue" : "f1930a32-dfaa-482f-a052-71d3194d3bc6",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2deleteTokenrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "EmployeesMunicipalities",
    "query" : "select M.* from Municipalities M,Roles R,Users U where U.ID=:user and U.ID=R.UserId and R.MunicipalityId=M.ID",
    "comment" : "EmployeesMunicipalities",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2EmployeesMunicipalitiesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AllowManualPayment" : "java.lang.Boolean",
      "City" : "java.lang.String",
      "Email" : "java.lang.String",
      "GlobalEmailSig" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "Logo" : "[B",
      "ManualPaymentPercent" : "java.math.BigDecimal",
      "MunicipalityGuid" : "java.lang.String",
      "MunicipalityName" : "java.lang.String",
      "Phone" : "java.lang.String",
      "PostalCode" : "java.lang.String",
      "State" : "java.lang.String"
    }
  }, {
    "name" : "getEmailId",
    "query" : "select Email from Users where ID =:userID",
    "comment" : "Returns the Email ID of the Respective UserID",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "userID",
      "paramType" : "java.lang.Integer",
      "testValue" : "3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2getEmailIdrtnType",
    "returnTypeMetadata" : {
      "Email" : "java.lang.String"
    }
  }, {
    "name" : "GetFormTypesByCategoriesAndMunicipalities",
    "query" : "select FT.* from FormTypes FT,FormCategoryMapping FM,FormCategories FC where FC.ID=:formCategory and FC.ID=FM.FormCategoryId and FM.FormTypeId=FT.ID and FT.MunicipalityId=:municipality",
    "comment" : "GetFormTypesByCategoriesAndMunicipalities",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "formCategory",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2GetFormTypesByCategoriesAndMunicipalitiesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "CreatedDate" : "java.sql.Date",
      "FlatFee" : "java.lang.String",
      "FlatFeeAccountingCode" : "java.lang.String",
      "FormType" : "java.lang.String",
      "FormTypeGuid" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "MunicipalityId" : "java.math.BigDecimal",
      "MunicipalityInternalForm" : "java.lang.Boolean",
      "PageName" : "java.lang.String",
      "PermissionsReaders" : "java.lang.String",
      "PermissionsWriters" : "java.lang.String",
      "Report" : "java.lang.String",
      "SfFee" : "java.lang.String",
      "SfFeeAccountingCode" : "java.lang.String",
      "StateFee" : "java.lang.String",
      "StateFeeAccountingCode" : "java.lang.String",
      "TbLocation" : "java.lang.String",
      "UnitFee" : "java.lang.String",
      "UnitFeeAccountingCode" : "java.lang.String"
    }
  }, {
    "name" : "GetRolesForMunicipality",
    "query" : "select U.* from Users U,Roles R where  R.RoleName=:role and R.MunicipalityId=:municipality and R.UserId=U.ID",
    "comment" : "GetRolesForMunicipality",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "role",
      "paramType" : "java.lang.String",
      "testValue" : "MunicipalityEmployee",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2GetRolesForMunicipalityrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.String",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "Banned" : "java.lang.String",
      "City" : "java.lang.String",
      "CommunicationFrequency" : "java.lang.String",
      "Country" : "java.lang.String",
      "Email" : "java.lang.String",
      "FirstName" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "LastName" : "java.lang.String",
      "Password" : "java.lang.String",
      "PhoneNumber" : "java.lang.String",
      "Photo" : "[B",
      "PostalCode" : "java.lang.String",
      "StateId" : "java.math.BigDecimal"
    }
  }, {
    "name" : "getUserID",
    "query" : "select ID from Users where Email =:Email",
    "comment" : "get user id based on mail id",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "Email",
      "paramType" : "java.lang.String",
      "testValue" : "anvesh.nara@wavemaker.com",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2getUserIDrtnType",
    "returnTypeMetadata" : {
      "ID" : "java.math.BigDecimal"
    }
  }, {
    "name" : "getUserIdFromPasswordResetToken",
    "query" : "select UserId from UserPasswordResetTokens WHERE( ExpirationDate >= GETDATE() AND Token = :token)",
    "comment" : "Returns a UserID, given a valid password reset token. Used internally",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "token",
      "paramType" : "java.lang.String",
      "testValue" : "asdfadsfasdfasd",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2getUserIdFromPasswordResetTokenrtnType",
    "returnTypeMetadata" : {
      "UserId" : "java.math.BigDecimal"
    }
  }, {
    "name" : "InsertCategoryMapping",
    "query" : "insert into FormCategoryMapping(FormTypeId,FormCategoryId) values(:FormTypeId,:FormCategoryId)",
    "comment" : "InsertCategoryMapping",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "FormTypeId",
      "paramType" : "java.lang.Integer",
      "testValue" : "6",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "FormCategoryId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2InsertCategoryMappingrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "InsertGroups",
    "query" : "insert into MunicipalityGroups (GroupName,GroupDescription,MunicipalityId) values (:GroupName,:GroupDescription,:MunicipalityId)",
    "comment" : "Insert Groups in to Municipalities",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "GroupName",
      "paramType" : "java.lang.String",
      "testValue" : "scj",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "GroupDescription",
      "paramType" : "java.lang.String",
      "testValue" : "bnzcxv",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "MunicipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2InsertGroupsrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "InsertNewRole",
    "query" : "insert into Roles(RoleName,MunicipalityId,Description,UserId) values (:RoleName,:MunicipalityId,:Description,:UserId)",
    "comment" : "InsertNewRole",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "RoleName",
      "paramType" : "java.lang.String",
      "testValue" : "MunicipalityEmployee",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "MunicipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "Description",
      "paramType" : "java.lang.String",
      "testValue" : "MunicipalityEmployee",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "UserId",
      "paramType" : "java.lang.Integer",
      "testValue" : "58",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2InsertNewRolertnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "InsertSubscription",
    "query" : "insert into UserSubscriptions(UserId,MunicipalityId,DateSubscribed) values(:UserId,:MunicipalityId,:DateSubscribed)",
    "comment" : "InsertSubscription",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "UserId",
      "paramType" : "java.lang.Integer",
      "testValue" : "76",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "MunicipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "DateSubscribed",
      "paramType" : "java.lang.String",
      "testValue" : "1479894495",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2InsertSubscriptionrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "MapAsAdminForVendor",
    "query" : "insert into VendorAdmins(UserId,VendorId) values(:UserId,:VendorId)",
    "comment" : "MapAsAdminForVendor",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "UserId",
      "paramType" : "java.lang.Integer",
      "testValue" : "107",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "VendorId",
      "paramType" : "java.lang.Integer",
      "testValue" : "35",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2MapAsAdminForVendorrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "MunicipalitiesGroupsCounts",
    "query" : "select count(*) as groupsCount from MunicipalityGroups where MunicipalityId=:municipality",
    "comment" : "MunicipalitiesGroupsCounts",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2MunicipalitiesGroupsCountsrtnType",
    "returnTypeMetadata" : {
      "groupsCount" : "java.lang.Integer"
    }
  }, {
    "name" : "MunicipalityCount",
    "query" : "select count(*) as municipalitiesCount from Municipalities",
    "comment" : "MunicipalityCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ ],
    "outputType" : "cx2MunicipalityCountrtnType",
    "returnTypeMetadata" : {
      "municipalitiesCount" : "java.lang.Integer"
    }
  }, {
    "name" : "resetPasswordForUser",
    "query" : "UPDATE Users SET Password=:newPassword where ID in (select UserId from UserPasswordResetTokens where ExpirationDate >= GETDATE() and Token = :token)",
    "comment" : "Resets password for a user, given user ID as Integer and password as String.",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "newPassword",
      "paramType" : "java.lang.String",
      "testValue" : "HelloWorld",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "token",
      "paramType" : "java.lang.String",
      "testValue" : "45bb2aad-8996-4fde-aac2-48bb3788bf0b",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2resetPasswordForUserrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "resetPasswordWithTokenForUser",
    "query" : "DELETE FROM UserPasswordResetTokens WHERE UserId = :userid \nINSERT INTO UserPasswordResetTokens (UserId, Token, ExpirationDate) VALUES ( :userid, :token, DATEADD(day, 2, GETDATE()))",
    "comment" : "This saves a reset password token in the DB given a User ID and Token.",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "userid",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "token",
      "paramType" : "java.lang.String",
      "testValue" : "asdfadsfasdfasd",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2resetPasswordWithTokenForUserrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "StandardUserMunicipalites",
    "query" : "select M.* from Municipalities M,UserSubscriptions US,Users U where U.ID=:USER and U.ID=US.UserId and US.MunicipalityId=M.ID",
    "comment" : "StandardUserMunicipalites",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "USER",
      "paramType" : "java.lang.Integer",
      "testValue" : "42",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2StandardUserMunicipalitesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AllowManualPayment" : "java.lang.Boolean",
      "City" : "java.lang.String",
      "Email" : "java.lang.String",
      "GlobalEmailSig" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "Logo" : "[B",
      "ManualPaymentPercent" : "java.math.BigDecimal",
      "MunicipalityGuid" : "java.lang.String",
      "MunicipalityName" : "java.lang.String",
      "Phone" : "java.lang.String",
      "PostalCode" : "java.lang.String",
      "State" : "java.lang.String"
    }
  }, {
    "name" : "SubDivisonCount",
    "query" : "select count(*) as SubDivisonCount from Subdivisions where MunicipalityId=:municipalityId",
    "comment" : "SubDivisonCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "municipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2SubDivisonCountrtnType",
    "returnTypeMetadata" : {
      "SubDivisonCount" : "java.lang.Integer"
    }
  }, {
    "name" : "UpdateAsCXVendorAdmin",
    "query" : "update Roles set roleName=:role,MunicipalityId=:municipality where UserId=:user",
    "comment" : "UpdateAsCXVendorAdmin",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "role",
      "paramType" : "java.lang.String",
      "testValue" : "CXVendorAdmin",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "101",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateAsCXVendorAdminrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateCFInProfile",
    "query" : "Update Users set CommunicationFrequency=:cf where ID=:user",
    "comment" : "UpdateCFInProfile",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "cf",
      "paramType" : "java.lang.String",
      "testValue" : "Immediately",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "42",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateCFInProfilertnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateGlobalEmailSig",
    "query" : "Update Municipalities set GlobalEmailSig=:gs where ID=:municipality",
    "comment" : "UpdateGlobalEmailSig",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "gs",
      "paramType" : "java.lang.String",
      "testValue" : "Fishers",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateGlobalEmailSigrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateInfoFromMyProfile",
    "query" : "Update Users set FirstName=:fn,LastName=:ln,Email=:em,PhoneNumber=:ph,Address1=:ad1,Address2=:ad2,StateId=:st,City=:ct,Country=:ctry,PostalCode=:pc where ID=:user",
    "comment" : "UpdateInfoFromMyProfile",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "fn",
      "paramType" : "java.lang.String",
      "testValue" : "Test",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ln",
      "paramType" : "java.lang.String",
      "testValue" : "User3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "em",
      "paramType" : "java.lang.String",
      "testValue" : "Test.User3@gmail.com",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ph",
      "paramType" : "java.lang.String",
      "testValue" : "36535656",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ad1",
      "paramType" : "java.lang.String",
      "testValue" : "dfad",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ad2",
      "paramType" : "java.lang.String",
      "testValue" : "adad",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "st",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ct",
      "paramType" : "java.lang.String",
      "testValue" : "adad",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ctry",
      "paramType" : "java.lang.String",
      "testValue" : "USA",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "pc",
      "paramType" : "java.lang.String",
      "testValue" : "1313",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "42",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateInfoFromMyProfilertnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateMunicipalityInfo",
    "query" : "Update Municipalities set MunicipalityName=:mn,Email=:em,Phone=:ph,Address1=:ad1,Address2=:ad2,StateId=:st,City=:ct,PostalCode=:pc where ID=:municipality",
    "comment" : "UpdateMunicipalityInfo",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "mn",
      "paramType" : "java.lang.String",
      "testValue" : "Crawfordsville",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "em",
      "paramType" : "java.lang.String",
      "testValue" : "info@crafordsville.com",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ph",
      "paramType" : "java.lang.String",
      "testValue" : "5555555555555555555555",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ad1",
      "paramType" : "java.lang.String",
      "testValue" : "1234 Main Street",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ad2",
      "paramType" : "java.lang.String",
      "testValue" : "STE 100",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "st",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ct",
      "paramType" : "java.lang.String",
      "testValue" : "Crawfordsville",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "pc",
      "paramType" : "java.lang.String",
      "testValue" : "",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateMunicipalityInfortnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateNewPassword",
    "query" : "UPDATE Users SET Password=:password where ID=:newUser",
    "comment" : "UpdateNewPassword",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "password",
      "paramType" : "java.lang.String",
      "testValue" : "civicxpress",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "newUser",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateNewPasswordrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdatePasswordAndCF",
    "query" : "UPDATE Users SET Password=:password, CommunicationFrequency=:cf where ID=:newUser",
    "comment" : "UpdatePasswordAndCF",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "password",
      "paramType" : "java.lang.String",
      "testValue" : "civicxpress",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "cf",
      "paramType" : "java.lang.String",
      "testValue" : "civicxpress",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "newUser",
      "paramType" : "java.lang.Integer",
      "testValue" : "3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdatePasswordAndCFrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateRoleForMunicipality",
    "query" : "update Roles set RoleName=:role where MunicipalityId=:municipality and UserId=:user",
    "comment" : "UpdateRoleForMunicipality",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "role",
      "paramType" : "java.lang.String",
      "testValue" : "MunicipalityEmployee",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "67",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateRoleForMunicipalityrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateVendorStatus",
    "query" : "Update VendorApprovals set DateApproved=:DateApproved,ApprovedBy=:ApprovedBy,ExpiresDate=:ExpiresDate,Active=:Active,ApprovalStatus=:ApprovalStatus,Reviewer=:Reviewer where MunicipalityId=:municipality and VendorId=:vendor",
    "comment" : "UpdateVendorStatus",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "DateApproved",
      "paramType" : "java.sql.Date",
      "testValue" : "2016-12-22",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ApprovedBy",
      "paramType" : "java.lang.String",
      "testValue" : "Sagar",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ExpiresDate",
      "paramType" : "java.sql.Date",
      "testValue" : "2016-12-23",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "Active",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "ApprovalStatus",
      "paramType" : "java.lang.String",
      "testValue" : "Pending",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "Reviewer",
      "paramType" : "java.lang.String",
      "testValue" : "Sagar",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipality",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "vendor",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateVendorStatusrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UpdateWorkMunicipality",
    "query" : "Update Municipalities set MondayYN=:monday,TuesdayYN=:tuesday,WednesdayYN=:wednesday,ThursdayYN=:thursday,FridayYN=:friday,SaturdayYN=:saturday,SundayYN=:sunday,TimeZone=:timezone,OpenTime=:openTime,CloseTime=:closeTime where ID=:municipalityId",
    "comment" : "UpdateWorkMunicipality",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "monday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "tuesday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "wednesday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "thursday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "friday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "saturday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "sunday",
      "paramType" : "java.lang.Boolean",
      "testValue" : "true",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "timezone",
      "paramType" : "java.lang.String",
      "testValue" : "Eastern",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "openTime",
      "paramType" : "java.sql.Time",
      "testValue" : "10:00:00",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "closeTime",
      "paramType" : "java.sql.Time",
      "testValue" : "06:00:00",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "municipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdateWorkMunicipalityrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UserCount",
    "query" : "select count(*) as usersCount from Users",
    "comment" : "UserCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ ],
    "outputType" : "cx2UserCountrtnType",
    "returnTypeMetadata" : {
      "usersCount" : "java.lang.Integer"
    }
  }, {
    "name" : "userSubscriptionsCount",
    "query" : "select count(*) as userSubscriptionsCount from UserSubscriptions",
    "comment" : "userSubscriptionsCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ ],
    "outputType" : "cx2userSubscriptionsCountrtnType",
    "returnTypeMetadata" : {
      "userSubscriptionsCount" : "java.lang.Integer"
    }
  }, {
    "name" : "userSubscriptionsCountForMunicipality",
    "query" : "select count(*) as userSubscriptionsCountForMunicipality from UserSubscriptions where MunicipalityId=:municipalityId",
    "comment" : "userSubscriptionsCountForMunicipality",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "municipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2userSubscriptionsCountForMunicipalityrtnType",
    "returnTypeMetadata" : {
      "userSubscriptionsCountForMunicipality" : "java.lang.Integer"
    }
  }, {
    "name" : "verifyPasswordResetToken",
    "query" : "select * from UserPasswordResetTokens WHERE( ExpirationDate >= GETDATE() AND Token = :token)",
    "comment" : "Given a token, Validates token based on expiration date. Null returned if no tokens match or expiration date is past.",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "token",
      "paramType" : "java.lang.String",
      "testValue" : "asdfadsfasdfasd",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2verifyPasswordResetTokenrtnType",
    "returnTypeMetadata" : {
      "ExpirationDate" : "java.sql.Date",
      "ID" : "java.math.BigDecimal",
      "Token" : "java.lang.String",
      "UserId" : "java.math.BigDecimal"
    }
  } ]
}
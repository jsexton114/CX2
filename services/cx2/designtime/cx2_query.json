{
  "name" : "cx2",
  "description" : "Queries for cx2",
  "queries" : [ {
    "name" : "AdminsMunicipalities",
    "query" : "select M.* from Municipalities M,Roles R,Users U where U.ID=:user and U.ID=R.UserId and R.MunicipalityId=M.ID",
    "comment" : "Admin'sMunicipalities",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2AdminsMunicipalitiesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AllowManualPayment" : "java.lang.Boolean",
      "City" : "java.lang.String",
      "Email" : "java.lang.String",
      "GlobalEmailSig" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "Logo" : "[B",
      "ManualPaymentPercent" : "java.math.BigDecimal",
      "MunicipalityGuid" : "java.lang.String",
      "MunicipalityName" : "java.lang.String",
      "Phone" : "java.lang.String",
      "PostalCode" : "java.lang.String",
      "State" : "java.lang.String"
    }
  }, {
    "name" : "EmployeesMunicipalities",
    "query" : "select M.* from Municipalities M,Roles R,Users U where U.ID=:user and U.ID=R.UserId and R.MunicipalityId=M.ID",
    "comment" : "EmployeesMunicipalities",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "user",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2EmployeesMunicipalitiesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AllowManualPayment" : "java.lang.Boolean",
      "City" : "java.lang.String",
      "Email" : "java.lang.String",
      "GlobalEmailSig" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "Logo" : "[B",
      "ManualPaymentPercent" : "java.math.BigDecimal",
      "MunicipalityGuid" : "java.lang.String",
      "MunicipalityName" : "java.lang.String",
      "Phone" : "java.lang.String",
      "PostalCode" : "java.lang.String",
      "State" : "java.lang.String"
    }
  }, {
    "name" : "MunicipalityCount",
    "query" : "select count(*) as municipalitiesCount from Municipalities",
    "comment" : "MunicipalityCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ ],
    "outputType" : "cx2MunicipalityCountrtnType",
    "returnTypeMetadata" : {
      "municipalitiesCount" : "java.lang.Integer"
    }
  }, {
    "name" : "StandardUserMunicipalites",
    "query" : "select M.* from Municipalities M,UserSubscriptions US,Users U where U.ID=:USER and U.ID=US.UserId and US.MunicipalityId=M.ID",
    "comment" : "StandardUserMunicipalites",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "USER",
      "paramType" : "java.lang.Integer",
      "testValue" : "42",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2StandardUserMunicipalitesrtnType",
    "returnTypeMetadata" : {
      "Active" : "java.lang.Boolean",
      "Address1" : "java.lang.String",
      "Address2" : "java.lang.String",
      "AllowManualPayment" : "java.lang.Boolean",
      "City" : "java.lang.String",
      "Email" : "java.lang.String",
      "GlobalEmailSig" : "java.lang.String",
      "ID" : "java.math.BigDecimal",
      "Logo" : "[B",
      "ManualPaymentPercent" : "java.math.BigDecimal",
      "MunicipalityGuid" : "java.lang.String",
      "MunicipalityName" : "java.lang.String",
      "Phone" : "java.lang.String",
      "PostalCode" : "java.lang.String",
      "State" : "java.lang.String"
    }
  }, {
    "name" : "SubDivisonCount",
    "query" : "select count(*) as SubDivisonCount from Subdivisions where MunicipalityId=:municipalityId",
    "comment" : "SubDivisonCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "municipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "1",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2SubDivisonCountrtnType",
    "returnTypeMetadata" : {
      "SubDivisonCount" : "java.lang.Integer"
    }
  }, {
    "name" : "UpdatePasswordAndCF",
    "query" : "UPDATE Users SET Password=:password, CommunicationFrequency=:cf where ID=:newUser",
    "comment" : "UpdatePasswordAndCF",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : true,
    "queryParams" : [ {
      "paramName" : "password",
      "paramType" : "java.lang.String",
      "testValue" : "civicxpress",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "cf",
      "paramType" : "java.lang.String",
      "testValue" : "civicxpress",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    }, {
      "paramName" : "newUser",
      "paramType" : "java.lang.Integer",
      "testValue" : "3",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2UpdatePasswordAndCFrtnType",
    "returnTypeMetadata" : { }
  }, {
    "name" : "UserCount",
    "query" : "select count(*) as usersCount from Users",
    "comment" : "UserCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ ],
    "outputType" : "cx2UserCountrtnType",
    "returnTypeMetadata" : {
      "usersCount" : "java.lang.Integer"
    }
  }, {
    "name" : "userSubscriptionsCount",
    "query" : "select count(*) as userSubscriptionsCount from UserSubscriptions",
    "comment" : "userSubscriptionsCount",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ ],
    "outputType" : "cx2userSubscriptionsCountrtnType",
    "returnTypeMetadata" : {
      "userSubscriptionsCount" : "java.lang.Integer"
    }
  }, {
    "name" : "userSubscriptionsCountForMunicipality",
    "query" : "select count(*) as userSubscriptionsCountForMunicipality from UserSubscriptions where MunicipalityId=:municipalityId",
    "comment" : "userSubscriptionsCountForMunicipality",
    "description" : null,
    "nativeSql" : true,
    "returnsSingleResult" : false,
    "update" : false,
    "queryParams" : [ {
      "paramName" : "municipalityId",
      "paramType" : "java.lang.Integer",
      "testValue" : "2",
      "systemParamName" : null,
      "systemParam" : false,
      "list" : false
    } ],
    "outputType" : "cx2userSubscriptionsCountForMunicipalityrtnType",
    "returnTypeMetadata" : {
      "userSubscriptionsCountForMunicipality" : "java.lang.Integer"
    }
  } ]
}